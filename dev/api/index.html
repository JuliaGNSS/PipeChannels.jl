<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · PipeChannels.jl</title><meta name="title" content="API Reference · PipeChannels.jl"/><meta property="og:title" content="API Reference · PipeChannels.jl"/><meta property="twitter:title" content="API Reference · PipeChannels.jl"/><meta name="description" content="Documentation for PipeChannels.jl."/><meta property="og:description" content="Documentation for PipeChannels.jl."/><meta property="twitter:description" content="Documentation for PipeChannels.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PipeChannels.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#PipeChannel-Type"><span>PipeChannel Type</span></a></li><li><a class="tocitem" href="#Channel-Operations"><span>Channel Operations</span></a></li><li><a class="tocitem" href="#Query-Functions"><span>Query Functions</span></a></li><li><a class="tocitem" href="#Iteration"><span>Iteration</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGNSS/PipeChannels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="PipeChannel-Type"><a class="docs-heading-anchor" href="#PipeChannel-Type">PipeChannel Type</a><a id="PipeChannel-Type-1"></a><a class="docs-heading-anchor-permalink" href="#PipeChannel-Type" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="PipeChannels.PipeChannel"><a class="docstring-binding" href="#PipeChannels.PipeChannel"><code>PipeChannels.PipeChannel</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PipeChannel{T}</code></pre><p>A lock-free single-producer single-consumer channel using a ring buffer.</p><p>This implementation uses atomic operations for the head and tail indices, allowing one thread to write and another to read without any locks. This eliminates allocations in the hot path that would otherwise occur with Julia&#39;s Channel type.</p><p>The API matches Julia&#39;s <code>Channel</code>:</p><ul><li><code>put!</code> blocks when full, throws <code>InvalidStateException</code> when closed</li><li><code>take!</code> blocks when empty, throws <code>InvalidStateException</code> when closed and empty</li><li>Iteration works with <code>for x in ch</code> syntax</li><li><code>bind</code> connects a task to the channel for error propagation</li></ul><p><strong>Type Parameters</strong></p><ul><li><code>T</code>: Element type stored in the channel</li></ul><p><strong>Fields</strong></p><ul><li><code>buffer::Vector{T}</code>: Pre-allocated storage</li><li><code>capacity::Int</code>: Maximum number of elements (one slot reserved for full/empty detection)</li><li><code>head::Threads.Atomic{Int}</code>: Write position (modified only by producer)</li><li><code>tail::Threads.Atomic{Int}</code>: Read position (modified only by consumer)</li></ul><p><strong>Thread Safety</strong></p><ul><li>Exactly ONE producer thread may call <code>put!</code></li><li>Exactly ONE consumer thread may call <code>take!</code></li><li>Multiple producers or consumers will cause data races</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">ch = PipeChannel{Int}(16)

# Producer thread
put!(ch, 42)
close(ch)

# Consumer thread
value = take!(ch)  # Returns 42
take!(ch)  # Throws InvalidStateException (closed and empty)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L5-L47">source</a></section></details></article><h2 id="Channel-Operations"><a class="docs-heading-anchor" href="#Channel-Operations">Channel Operations</a><a id="Channel-Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Channel-Operations" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Base.put!-Union{Tuple{T}, Tuple{PipeChannel{T}, T}} where T"><a class="docstring-binding" href="#Base.put!-Union{Tuple{T}, Tuple{PipeChannel{T}, T}} where T"><code>Base.put!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">put!(ch::PipeChannel{T}, value::T)</code></pre><p>Add an element to the buffer. Blocks if the buffer is full.</p><p><strong>Throws</strong></p><ul><li><code>InvalidStateException</code>: If the channel is closed</li><li>The bound task&#39;s exception if the task failed</li></ul><p><strong>Thread Safety</strong></p><p>Must only be called from a single producer thread.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L253-L264">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.take!-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.take!-Tuple{PipeChannel}"><code>Base.take!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">take!(ch::PipeChannel{T}) -&gt; T</code></pre><p>Remove and return an element from the buffer. Blocks if the buffer is empty.</p><p><strong>Throws</strong></p><ul><li><code>InvalidStateException</code>: If the channel is closed and empty</li><li>The bound task&#39;s exception if the task failed</li></ul><p><strong>Thread Safety</strong></p><p>Must only be called from a single consumer thread.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L290-L301">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.close-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.close-Tuple{PipeChannel}"><code>Base.close</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">close(ch::PipeChannel, excp::Exception=closed_exception())</code></pre><p>Close the channel. After closing:</p><ul><li><code>put!</code> will throw <code>InvalidStateException</code> (or the bound task&#39;s exception)</li><li><code>take!</code> will return remaining elements, then throw <code>InvalidStateException</code> (or the bound task&#39;s exception)</li></ul><p>If <code>excp</code> is provided, it will be stored and thrown on subsequent operations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L71-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.bind-Tuple{PipeChannel, Task}"><a class="docstring-binding" href="#Base.bind-Tuple{PipeChannel, Task}"><code>Base.bind</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">bind(ch::PipeChannel, task::Task)</code></pre><p>Bind a task to the channel. When the task terminates:</p><ul><li>The channel is automatically closed</li><li>If the task failed with an exception, that exception will be thrown on subsequent <code>put!</code> or <code>take!</code> operations</li></ul><p>This is useful for propagating errors from producer/consumer tasks.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">ch = PipeChannel{Int}(16)
task = @async begin
    for i in 1:10
        put!(ch, i)
    end
    close(ch)
end
bind(ch, task)

# If task fails, the exception propagates to consumers
for x in ch
    println(x)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L94-L120">source</a></section></details></article><h2 id="Query-Functions"><a class="docs-heading-anchor" href="#Query-Functions">Query Functions</a><a id="Query-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Query-Functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Base.isopen-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.isopen-Tuple{PipeChannel}"><code>Base.isopen</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isopen(ch::PipeChannel) -&gt; Bool</code></pre><p>Check if the channel is still open for operations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L64-L68">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.isready-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.isready-Tuple{PipeChannel}"><code>Base.isready</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isready(ch::PipeChannel) -&gt; Bool</code></pre><p>Check if data is available to read (i.e., buffer is not empty).</p><p>This is the opposite of <code>isempty</code> and matches the <code>Channel</code> API where <code>isready(ch)</code> returns <code>true</code> when <code>take!</code> would not block.</p><p><strong>Thread Safety Note</strong></p><p>Same as <code>isempty</code>: only guaranteed accurate from the consumer thread. May return <code>false</code> even when data is available if called from the producer thread (false negative is safe - just causes unnecessary waiting).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L184-L197">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.isempty-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.isempty-Tuple{PipeChannel}"><code>Base.isempty</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isempty(ch::PipeChannel) -&gt; Bool</code></pre><p>Check if the buffer is empty.</p><p><strong>Thread Safety Note</strong></p><p>This function is only guaranteed to be accurate when called from the <strong>consumer thread</strong>.</p><p>The result can be a false positive (reports empty when not empty) if called from the producer thread, because the producer may have advanced <code>head</code> after we read it but before we compare. This is safe - it just means the consumer might unnecessarily wait.</p><p>However, if the consumer calls this and it returns <code>false</code>, it is guaranteed that there is data to read, because only the consumer advances <code>tail</code> and only the producer advances <code>head</code> (which can only add more data, not remove it).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L163-L179">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.isfull-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.isfull-Tuple{PipeChannel}"><code>Base.isfull</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isfull(ch::PipeChannel) -&gt; Bool</code></pre><p>Check if the buffer is full.</p><p><strong>Thread Safety Note</strong></p><p>This function is only guaranteed to be accurate when called from the <strong>producer thread</strong>.</p><p>The result can be a false positive (reports full when not full) if called from the consumer thread, because the consumer may have advanced <code>tail</code> after we read it but before we compare. This is safe - it just means the producer might unnecessarily wait.</p><p>However, if the producer calls this and it returns <code>false</code>, it is guaranteed that there is space to write, because only the producer advances <code>head</code> and only the consumer advances <code>tail</code> (which can only create more space, not less).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L139-L155">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.n_avail-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.n_avail-Tuple{PipeChannel}"><code>Base.n_avail</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">n_avail(ch::PipeChannel) -&gt; Int</code></pre><p>Return the number of elements available to read.</p><p><strong>Thread Safety Note</strong></p><p>This is an approximation that may be slightly stale. The actual count may be higher (if the producer added items after we read <code>head</code>) but never lower (the consumer is the only one who can remove items by advancing <code>tail</code>).</p><p>Most accurate when called from the consumer thread.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L230-L242">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.wait-Tuple{PipeChannel}"><a class="docstring-binding" href="#Base.wait-Tuple{PipeChannel}"><code>Base.wait</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">wait(ch::PipeChannel)</code></pre><p>Block until data is available in the buffer or the channel is closed.</p><p>Unlike <code>take!</code>, this does not consume the data - it just waits until <code>isready(ch)</code> would return <code>true</code>, or throws if the channel is closed and empty.</p><p><strong>Throws</strong></p><ul><li><code>InvalidStateException</code>: If the channel is closed and empty</li><li>The bound task&#39;s exception if the task failed</li></ul><p><strong>Thread Safety</strong></p><p>Should only be called from the consumer thread.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L200-L214">source</a></section></details></article><h2 id="Iteration"><a class="docs-heading-anchor" href="#Iteration">Iteration</a><a id="Iteration-1"></a><a class="docs-heading-anchor-permalink" href="#Iteration" title="Permalink"></a></h2><p><code>PipeChannel</code> supports Julia&#39;s iteration protocol. You can iterate over values until the channel is closed and empty:</p><pre><code class="language-julia hljs">ch = PipeChannel{Int}(16)
for i in 1:5
    put!(ch, i)
end
close(ch)

for value in ch
    println(value)
end
# Output: 1, 2, 3, 4, 5</code></pre><article><details class="docstring" open="true"><summary id="Base.iterate-Union{Tuple{T}, Tuple{PipeChannel{T}, Any}} where T"><a class="docstring-binding" href="#Base.iterate-Union{Tuple{T}, Tuple{PipeChannel{T}, Any}} where T"><code>Base.iterate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">iterate(ch::PipeChannel{T}, state=nothing)</code></pre><p>Iterate over values in the channel until it&#39;s closed and empty. Catches <code>InvalidStateException</code> to cleanly end iteration. If a bound task failed, the <code>TaskFailedException</code> is propagated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L328-L334">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.eltype-Union{Tuple{Type{PipeChannel{T}}}, Tuple{T}} where T"><a class="docstring-binding" href="#Base.eltype-Union{Tuple{Type{PipeChannel{T}}}, Tuple{T}} where T"><code>Base.eltype</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">eltype(::Type{PipeChannel{T}}) where T</code></pre><p>Returns the element type <code>T</code> of the <code>PipeChannel{T}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L355-L359">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.IteratorSize-Tuple{Type{&lt;:PipeChannel}}"><a class="docstring-binding" href="#Base.IteratorSize-Tuple{Type{&lt;:PipeChannel}}"><code>Base.IteratorSize</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">IteratorSize(::Type{&lt;:PipeChannel})</code></pre><p>Returns <code>Base.SizeUnknown()</code> since the number of elements in a <code>PipeChannel</code> cannot be determined in advance (depends on when the channel is closed).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGNSS/PipeChannels.jl/blob/086f8124ae8a70fa2bdae69a1568bb7b01abdc4c/src/PipeChannels.jl#L347-L352">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 30 December 2025 13:50">Tuesday 30 December 2025</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
